<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA Calculator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon_io/favicon-16x16.png">
    <link rel="manifest" href="./favicon_io/site.webmanifest"></head>
<body>
    <div class="container">
        <h1>GPA & CGPA Calculator</h1>
        
        <div class="toggle-container">
            <button class="toggle-btn active" onclick="showSection('gpa')">GPA Calculator</button>
            <button class="toggle-btn" onclick="showSection('cgpa')">CGPA Calculator</button>
        </div>
        
        <div class="calculator-section" id="gpaSection">
            <div class="section-title">GPA Calculator</div>
            <div class="error" id="error"></div>
            
            <div class="form-group">
                <input type="text" id="courseName" placeholder="Course name">
                <select id="grade">
                <option value="">Select Grade</option>
                <option value="4">A+ (4.0)</option>
                <option value="3.75">A (3.7)</option>
                <option value="3.5">A- (3.5)</option>
                <option value="3.25">B+ (3.25)</option>
                <option value="3.0">B (3.0)</option>
                <option value="2.75">B- (2.75)</option>
                <option value="2.5">C+ (2.5)</option>
                <option value="2">C (2)</option>
                <option value="1.5">C- (1.5)</option>
                <!-- <option value="1">D (1.0)</option> -->
                <option value="0">F (0.0)</option>
            </select>
            <input type="number" id="credits" placeholder="Credits" min="1" step="0.5">
        </div>

        <div class="actions">
            <button onclick="addCourse()">Add Course</button>
            <button onclick="resetCalculator()" class="secondary">Reset</button>
        </div>

        <div class="courses-list" id="coursesList"></div>
        <div class="result">
            Your GPA: <span id="gpa">0.00</span>
        </div>
    </div>

          <div class="calculator-section" id="cgpaSection" style="display: none;">
            <div class="section-title">CGPA Calculator</div>
            <div class="error" id="cgpaError"></div>
            
            <div class="cgpa-form-group">
                <input type="number" id="semesterGpa" placeholder="Semester GPA" min="0" max="4" step="0.01">
                <input type="number" id="semesterCredits" placeholder="Total Credits" min="1" step="0.5">
                <button onclick="addSemester()">Add Semester</button>
            </div>

            <div class="semester-list" id="semesterList"></div>
            
            <div class="actions">
                <button onclick="calculateCGPA()">Calculate CGPA</button>
                <button onclick="resetCGPA()" class="secondary">Reset CGPA</button>
            </div>

            <div class="result cgpa-result">
                Your CGPA: <span id="cgpa">0.00</span>
            </div>
        </div>
    </div>

    <script>
        let courses = [];
        let semesters = [];
        let currentSection = 'gpa';

        function showSection(section) {
            document.getElementById('gpaSection').style.display = section === 'gpa' ? 'block' : 'none';
            document.getElementById('cgpaSection').style.display = section === 'cgpa' ? 'block' : 'none';
            
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.toggle('active');
            });
            
            currentSection = section;
        }

        function addCourse() {
            const courseName = document.getElementById('courseName').value;
            const grade = document.getElementById('grade').value;
            const credits = document.getElementById('credits').value;
            const error = document.getElementById('error');

            if (!courseName || !grade || !credits) {
                error.textContent = "Please fill all fields";
                return;
            }

            error.textContent = "";
            
            courses.push({
                courseName,
                grade: parseFloat(grade),
                credits: parseFloat(credits)
            });

            updateCoursesList();
            calculateGPA();
            
            // Clear inputs
            document.getElementById('courseName').value = '';
            document.getElementById('grade').value = '';
            document.getElementById('credits').value = '';
        }

        function updateCoursesList() {
            const list = document.getElementById('coursesList');
            list.innerHTML = courses.map((course, index) => `
                <div class="course-item">
                    <div>
                        <strong>${course.courseName}</strong><br>
                        Grade: ${course.grade} | Credits: ${course.credits}
                    </div>
                    <button onclick="removeCourse(${index})">×</button>
                </div>
            `).join('');
        }

        function removeCourse(index) {
            courses.splice(index, 1);
            updateCoursesList();
            calculateGPA();
        }

        function calculateGPA() {
            let totalPoints = 0;
            let totalCredits = 0;
            
            courses.forEach(course => {
                totalPoints += course.grade * course.credits;
                totalCredits += course.credits;
            });

            const gpa = totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : 0.00;
            document.getElementById('gpa').textContent = gpa;
        }

        function addSemester() {
            const gpa = parseFloat(document.getElementById('semesterGpa').value);
            const credits = parseFloat(document.getElementById('semesterCredits').value);
            const error = document.getElementById('cgpaError');

            if (isNaN(gpa) || isNaN(credits) || gpa < 0 || gpa > 4 || credits <= 0) {
                error.textContent = "Please enter valid GPA (0-4) and credits";
                return;
            }

            error.textContent = "";
            
            semesters.push({
                gpa,
                credits
            });

            updateSemesterList();
            document.getElementById('semesterGpa').value = '';
            document.getElementById('semesterCredits').value = '';
        }

        function updateSemesterList() {
            const list = document.getElementById('semesterList');
            list.innerHTML = semesters.map((semester, index) => `
                <div class="semester-item">
                    <div>
                        Semester ${index + 1}<br>
                        GPA: ${semester.gpa.toFixed(2)} | Credits: ${semester.credits}
                    </div>
                    <button onclick="removeSemester(${index})">×</button>
                </div>
            `).join('');
        }

        function removeSemester(index) {
            semesters.splice(index, 1);
            updateSemesterList();
        }

        function calculateCGPA() {
            let totalPoints = 0;
            let totalCredits = 0;
            
            semesters.forEach(semester => {
                totalPoints += semester.gpa * semester.credits;
                totalCredits += semester.credits;
            });

            const cgpa = totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : 0.00;
            document.getElementById('cgpa').textContent = cgpa;
        }

        function resetCGPA() {
            semesters = [];
            updateSemesterList();
            document.getElementById('cgpa').textContent = '0.00';
            document.getElementById('cgpaError').textContent = "";
        }

        // Modified reset function
        function resetCalculator() {
            if (currentSection === 'gpa') {
                courses = [];
                updateCoursesList();
                calculateGPA();
                document.getElementById('error').textContent = "";
            } else {
                resetCGPA();
            }
        }
    </script>
</body>
</html>